<!DOCTYPE html>
<html
  lang="en"
  style="-webkit-print-color-adjust: exact; print-color-adjust: exact;"
>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        font-family: 'Open Sans', sans-serif;
      }
      .common-table {
        text-align: center;
        width: 100%;
        border-spacing: 0;
        font-size: 10px;
      }

      .common-table tbody > tr:nth-child(even) {
        background-color: #f7f8f9;
      }

      th,
      td {
        vertical-align: top;
      }

      tfoot td {
        border-bottom: 1px solid #d9d9d9;
      }

      .common-table th,
      .common-table td {
        padding: 9px 10px;
      }

      .common-table th {
        border-bottom: 1px solid #d9d9d9;
        border-top: 1px solid #d9d9d9;
      }

      .common-table tfoot td {
        font-weight: 700;
      }

      .common-table tr {
        break-inside: avoid;
      }
    </style>
  </head>

  <body
    style="
      margin: 0;
      color: #2a2a2a;
      font-size: 13px;
      font-family: 'Open Sans', sans-serif;
    "
  >
    <table style="width: 70%; padding: 0 20px; margin: 0 auto;">
      <tbody>
        <tr>
          <td style="width: 25%;padding: 0 5px;height: 75px;text-align: center;color: #fff;">
            <div
              style="
                height: 100%;
                background-color: #68b8f2;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
              "
            >
              <span
                style="display: block; font-weight: 600; margin-bottom: 10px;"
              >
                TOTAL QTY
              </span>
              <span style="font-weight: 700; font-size: 20px;">
                {{uppercount.totalQty}}
              </span>
            </div>
          </td>
          <td
            style="
              width: 25%;
              padding: 0 5px;
              height: 75px;
              text-align: center;
              color: #fff;
            "
          >
            <div
              style="
                height: 100%;
                background-color: #f9bc44;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
              "
            >
              <span
                style="display: block; font-weight: 600; margin-bottom: 10px;"
              >
                SKU
              </span>
              <span style="font-weight: 700; font-size: 20px;">
                {{uppercount.SKU}}
              </span>
            </div>
          </td>
          <td
            style="
              width: 25%;
              padding: 0 5px;
              height: 75px;
              text-align: center;
              color: #fff;
            "
          >
            <div
              style="
                height: 100%;
                background-color: #5fbeaa;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
              "
            >
              <span
                style="display: block; font-weight: 600; margin-bottom: 10px;"
              >
                CUSTOMER
              </span>
              <span style="font-weight: 700; font-size: 20px;">
                {{uppercount.customer}}
              </span>
            </div>
          </td>
          <td
            style="
              width: 25%;
              padding: 0 5px;
              height: 75px;
              text-align: center;
              color: #fff;
            "
          >
            <div
              style="
                height: 100%;
                background-color: #97bfd9;
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
              "
            >
              <span
                style="display: block; font-weight: 600; margin-bottom: 10px;"
              >
                OUTSTANDING
              </span>
              <span style="font-weight: 700; font-size: 20px;">
                {{outstanding}}
              </span>
            </div>
          </div>
        </tr>
      </tbody>
    </table>

    <table class="common-table" style="margin-top: 25px;">
      <thead style="display: table-header-group; break-inside: avoid;">
        <tr>
          <th style="padding-left: 10px;">#</th>
          <th>Date</th>
          <th>
            Order No.
            <br />
            <span style="font-size: 12px;">Location</span>
          </th>
          <th>
            SKU
            <br />
            <span style="font-size: 12px;">Stock ID</span>
          </th>
          <th>
            Stone
            <br />
            <span style="font-size: 12px; text-align: center;">Stone ID</span>
          </th>
          <th>
            Metal
            <br />
            <span style="font-size: 12px;">Size</span>
          </th>
          <th>Qty</th>
          <th>Price</th>
          <th>Labour</th>
          <th>Amount</th>
          <th>Payment</th>
          <th>Outstanding</th>
          <th>
            Delivery
            <br />
            <span style="font-size: 12px; text-align: center;">Date</span>
          </th>
          <th style="padding-right: 10px;">
            Customer
            <br />
            <span style="font-size: 12px; text-align: center;">
              Sales Person
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
        {{#each products}}
            <tr>
            <td style="padding-left: 10px;">{{sr_no}}</td>
            <td>
              {{pdate}}
                <br />
            </td>
            <td>
              {{order_no}}
                <br />
                <span style="font-size: 12px; color: #6a6a6a;">{{location_name}}</span>
            </td>
            <td>
              {{SKU}}
                <br />
                <span style="font-size: 12px; color: #6a6a6a;">{{stock_id}}</span>
            </td>
            <td>{{stone_name}}</td>
            <td>
              {{metal_name}}
                <br />
                <span style="font-size: 12px; color: #6a6a6a;">{{size_name}}</span>
            </td>
            <td>{{qty}}</td>
            <td>{{base_amount}}</td>
            <td>{{labour}}</td>
            <td>{{amount}}</td>
            <td>{{payment}}</td>
            <td style="color: #ff5757;">{{outstanding}}</td>
            <td>{{delivery_date}}</td>
            <td>
              {{customer_name}}
                <br />
                <span style="font-size: 12px; color: #6a6a6a;">{{sales_person}}</span>
            </td>
            </tr>
            {{#unless @last}} 
                {{# if pageBreak }}
                    <tr>
                    <td colspan="2" style="text-align: left; padding-left: 10px;border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;">
                        Sub Total
                    </td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;"> {{itemAt @root.subTotalQty ( subTotalQtyIndex) }}</td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;"> {{itemAt @root.subTotalslabour ( subTotallabourIndex) }}</td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;"> {{itemAt @root.subTotalsamount ( subTotalsamountIndex) }}</td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;"> {{itemAt @root.subTotalspayment ( subTotalpaymentIndex) }}</td>
                    <td style="color: #ff5757; border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;font-weight: bold;"> {{itemAt @root.subTotalsoutstanding ( subTotaloutstandingIndex) }}</td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
                    <td style="padding-right: 10px;"></td>
                    </tr>
                    <tr style="page-break-after: always;"> </tr>

                {{/if}} 
            {{/unless}} 
        {{/each}}
      </tbody>
      <tfoot>
        <tr>
          <td colspan="2" style="text-align: left; padding-left: 10px;border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">
            Total
          </td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">{{lowercount.totalQty}}</td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">{{lowercount.labour}}</td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">{{lowercount.amount}}</td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">{{lowercount.payment}}</td>
          <td style="color: #ff5757;border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;">{{lowercount.outstanding}}</td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
          <td style="padding-right: 10px;border-top: 1px solid #d9d9d9;border-bottom: 1px solid #d9d9d9;"></td>
        </tr>
      </tfoot>
    </table>
  </body>
</html>
